---
// Import the global.css file here so that it is included on
// all pages through the use of the <BaseHead /> component.
import "$styles/global.css";
import "$styles/font.css";
import interWoff2 from "@fontsource-variable/inter/files/inter-latin-opsz-normal.woff2?url";
import interItalicWoff2 from "@fontsource-variable/inter/files/inter-latin-wght-italic.woff2?url";

import MinimalBaseHead from "@myriaddreamin/tylant/src/components/minimal/BaseHead.astro";
import BackendClientScript from "@myriaddreamin/tylant-backend-client";

import { kServers, kEnableBackend } from "$consts";

interface Props {
  title: string;
  description: string;
  canonical?: string;
  image?: string;
}

const {
  title,
  description,
  canonical = Astro.url.pathname,
  image = "/blog-heading.webp",
} = Astro.props;
---

<MinimalBaseHead
  title={title}
  description={description}
  image={image}
  canonical={canonical}
/>

<link
  rel="preload"
  as="font"
  type="font/woff2"
  href={interWoff2}
  crossorigin="anonymous"
/>
<link
  rel="preload"
  as="font"
  type="font/woff2"
  href={interItalicWoff2}
  crossorigin="anonymous"
/>

{kEnableBackend && <BackendClientScript kServers={kServers} />}
